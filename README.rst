PyBeach 2020
============

This is the source repo for `2020.pybeach.org <https://2020.pybeach.org>`_.

The site is built using `Lektor <https://www.getlektor.com/>`_ and `Sass <http://sass-lang.com/>`_, and below instructions will rely on `Poetry <https://python-poetry.org>`_ as well.


Setup
-----

.. code-block:: shell

  # initialize virtual environment and install dependencies
  poetry install


Developing
----------

.. code-block:: shell

  # run the Lektor server and SASS watcher concurrently
  make serve
  # go to http://localhost:5000


Files
~~~~~

Below is an overview of files likely to be of use when updating the site. Not all files are mentioned here.

Templates
.........

- ``templates/layout.html``: main site layout
- ``templates/page.html``: default page layout


Stylesheets
...........

- ``assets/static/style/_main.scss``: main styles
- ``assets/static/style/_variables.scss``: SCSS variables, for convenience
- ``assets/static/style/style.css``: output CSS generated by `lektor-scsscompile <https://github.com/maxbachmann/lektor-SCSScompile>`_ (do *not* edit this file directly!)


Content
.......

- ``content/contents.lr``: main page
- ``content/conduct/contents.lr``: CoC page

Add and modify content as you wish. Documentation on how Lektor organizes content can be found here: `https://www.getlektor.com/docs/content/ <https://www.getlektor.com/docs/content/>`_.


Infrastructure
--------------

The site is deployed on `@nkantar <https://github.com/nkantar>`_'s server from the ``main`` branch of this repository, fully regenerated on every build. The domain is registered by @nkantar through `Hover <https://www.hover.com>`_, DNS and hosting is by `DigitalOcean <https://www.digitalocean.com>`_, and SSL is provided by `Let's Encrypt <https://letsencrypt.org>`_.


Code of Conduct
---------------

PyBeach employs a Code of Conduct which was forked from the `North Bay Python Code of Conduct <https://2019.northbaypython.org/code-of-conduct/>`_ under an `MIT License <https://github.com/northbaypython/website/blob/master/LICENSE>`_ , which was formed from the `PyCon US Code of Conduct <https://github.com/python/pycon-code-of-conduct>`_ under a `Creative Commons Attribution 3.0 Unported <http://creativecommons.org/licenses/by/3.0/>`_ license, itself originally forked from the example policy in `Geek Feminism wiki <http://geekfeminism.wikia.com/wiki/Conference_anti-harassment/Policy>`_ , created by the Ada Initiative and other volunteers, which is under a `Creative Commons Zero <https://creativecommons.org/publicdomain/zero/1.0/>`_ license. Everyone contributing to this repository is bound by it. The full text can be found in the ``CODE_OF_CONDUCT.md`` file.
