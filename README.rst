PyBeach 2020
============

This is the source repo for `2020.pybeach.org <https://2020.pybeach.org>`_.

The site is built using `Lektor <https://www.getlektor.com/>`_ and `Sass <http://sass-lang.com/>`_, and below instructions will rely on `Pipenv <https://docs.pipenv.org/>`_ as well.


Setup
-----

.. code-block:: shell

  # initialize virtual environment and install dependencies
  pipenv install


Developing
----------

.. code-block:: shell

  # run the Lektor server and SASS watcher concurrently
  make serve
  # go to http://localhost:5000

After creating a PR on GitHub, note the Netlify preview link which will be available in the checks.

Files
~~~~~

Below is an overview of files likely to be of use when updating the site. Not all files are mentioned here.

Templates
.........

- ``templates/layout.html``: main site layout
- ``templates/page.html``: default page layout


Stylesheets
...........

- ``assets/static/style/_main.scss``: main styles
- ``assets/static/style/_variables.scss``: SCSS variables, for convenience
- ``assets/static/style/style.css``: output CSS generated by `lektor-scsscompile <https://github.com/maxbachmann/lektor-SCSScompile>`_ (do *not* edit this file directly!)


Content
.......

- ``content/contents.lr``: main page
- ``content/conduct/contents.lr``: CoC page

Add and modify content as you wish. Documentation on how Lektor organizes content can be found here: `https://www.getlektor.com/docs/content/ <https://www.getlektor.com/docs/content/>`_.


Infrastructure
--------------

The site is deployed on `Netlify <https://www.netlify.com>`_ from the ``master`` branch of this repository, fully regenerated on every build. The domain is registered by `@nkantar <https://github.com/nkantar>`_ through `Hover <https://www.hover.com>`_, and SSL is provided by `Let's Encrypt <https://letsencrypt.org>`_.


Code of Conduct
---------------

PyBeach employs the `Python Software Foundation Code of Conduct <https://www.python.org/psf/codeofconduct/>`_ and everyone contributing to this repository is bound by it. The full text can be found in the ``CODE_OF_CONDUCT.md`` file.
